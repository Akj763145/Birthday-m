{ box-sizing: border-box; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; -webkit-transform-style: preserve-3d; transform-style: preserve-3d; -webkit-backface-visibility: hidden; backface-visibility: hidden; }
html { height: 100%; width: 100%; font-family: 'Dancing Script', cursive; margin: 0; padding: 0; overflow: hidden; }

body { background: #667eea; margin: 0; padding: 0; overflow: hidden; font-family: 'Dancing Script', cursive; }

.container { display: flex; justify-content: center; align-items: center; height: 100vh; position: relative; transform-style: preserve-3d; }

.gift-box { position: relative; width: 150px; height: 150px; cursor: pointer; /* Updated transition for a more bouncy effect */ transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); transform: translateZ(0); }

.gift-box:hover { /* Updated hover effect for a slight scale and rotation */ transform: scale(1.05) rotate(2deg); }

.box-body { width: 150px; height: 100px; background: #ff6b6b; border: 3px solid #333; border-radius: 15px; position: relative; transform: translateZ(0); }

.box-lid { width: 150px; height: 30px; background: #ff4757; border: 3px solid #333; border-radius: 15px; position: absolute; top: -15px; left: 50%; transform: translateX(-50%) translateZ(0); transform-origin: center bottom; transition: transform 0.8s ease-out; }

.bow { position: absolute; top: -25px; left: 50%; transform: translateX(-50%) translateZ(0); will-change: transform; }

.bow-left, .bow-right { width: 30px; height: 25px; background: #ffb142; border: 2px solid #333; border-radius: 60% 20% 60% 20%; position: absolute; top: 0; }

.bow-left { left: -18px; transform: rotate(-45deg) translateZ(0); }

.bow-right { right: -18px; transform: rotate(45deg) translateZ(0); }

.bow-knot { width: 18px; height: 22px; background: #ff6b35; border: 2px solid #333; border-radius: 50%; position: absolute; top: 8px; left: 50%; transform: translateX(-50%) translateZ(0); }

.birthday-message { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) translateZ(0); text-align: center; opacity: 0; z-index: 20; will-change: opacity, transform; backface-visibility: hidden; max-width: 90vw; /* Updated message transition for a smoother, more deliberate fade-in */ transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1); }

.birthday-message h1 { font-size: clamp(2rem, 5vw, 4.5rem); color: #ffff00; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8); margin: 0; letter-spacing: 0.1em; font-weight: 700; font-family: 'Dancing Script', cursive; line-height: 1.2; }

.sparkles { position: relative; margin-top: 30px; height: 50px; will-change: transform; }

.sparkle { position: absolute; width: 20px; height: 20px; background: #ffff00; border-radius: 50%; animation: simpleSparkle 2s ease-in-out infinite; transform: translateZ(0); }

.sparkle:nth-child(1) { left: -120px; animation-delay: 0.8s; }

.sparkle:nth-child(2) { left: -60px; animation-delay: 1.6s; }

.sparkle:nth-child(3) { left: 0px; animation-delay: 0s; }

.sparkle:nth-child(4) { left: 60px; animation-delay: 2.4s; }

.sparkle:nth-child(5) { left: 120px; animation-delay: 1.2s; }

/* Simple Animation Keyframes */ @keyframes simpleSparkle { 0%, 100% { opacity: 0.3; transform: scale(0.8) translateZ(0); } 50% { opacity: 1; transform: scale(1.2) translateZ(0); } }

@keyframes simpleExplode { 0% { transform: scale(1) rotate(0deg) translateZ(0); opacity: 1; } 50% { transform: scale(1.5) rotate(180deg) translateZ(0); opacity: 0.7; } 100% { transform: scale(0.1) rotate(360deg) translateZ(0); opacity: 0; } }

@keyframes simpleLidFly { 0% { transform: translateX(-75px) translateY(0px) rotate(0deg) translateZ(0); opacity: 1; } 100% { transform: translateX(-200px) translateY(-200px) rotate(180deg) translateZ(0); opacity: 0; } }

/* Replaced simpleMessageAppear with a smoother transition */ .birthday-message.show { opacity: 1; transform: translateY(0); }

/* New smooth fade animations */ .fade-in { animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1); }

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

@keyframes ultraSmoothGlow { 0% { text-shadow: 0 0 30px #ffff00cc, 0 0 60px #ffff00aa, 0 0 90px #ffff0088; } 25% { text-shadow: 0 0 40px #ffa500cc, 0 0 70px #ffa500aa, 0 0 100px #ffa50088; } 50% { text-shadow: 0 0 50px #ff69b4cc, 0 0 80px #ff69b4aa, 0 0 110px #ff69b488; } 75% { text-shadow: 0 0 40px #00ff87cc, 0 0 70px #00ff87aa, 0 0 100px #00ff8788; } 100% { text-shadow: 0 0 30px #ffff00cc, 0 0 60px #ffff00aa, 0 0 90px #ffff0088; } }

@keyframes ultraSmoothSparkle { 0% { transform: translateY(0) rotate(0deg) scale(0.3) translateZ(0); opacity: 0; filter: brightness(0.8); } 15% { transform: translateY(-20px) rotate(54deg) scale(0.8) translateZ(0); opacity: 0.7; filter: brightness(1.2); } 35% { transform: translateY(-60px) rotate(162deg) scale(1.4) translateZ(0); opacity: 1; filter: brightness(1.6); } 55% { transform: translateY(-80px) rotate(270deg) scale(1.2) translateZ(0); opacity: 1; filter: brightness(1.4); } 75% { transform: translateY(-40px) rotate(378deg) scale(0.9) translateZ(0); opacity: 0.8; filter: brightness(1.1); } 90% { transform: translateY(10px) rotate(432deg) scale(0.5) translateZ(0); opacity: 0.3; filter: brightness(0.9); } 100% { transform: translateY(30px) rotate(450deg) scale(0.2) translateZ(0); opacity: 0; filter: brightness(0.7); } }

/* Simple smooth explosion classes */ .exploding .box-body { animation: simpleExplode 1s ease-out forwards; }

.exploding .box-lid { animation: simpleLidFly 1s ease-out forwards; }

.message-show { animation: simpleMessageAppear 1s ease-out forwards; }

/* Performance optimizations for mobile and reduced motion */ @media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }

body { animation: none; }

.sparkle { animation: none; } }

/* Mobile performance optimizations / @media (max-width: 768px) { body { animation-duration: 20s; / Slower gradient for better performance / background-size: 400% 400%; / Smaller gradient for better performance */ }

.birthday-message h1 { font-size: clamp(1.5rem, 4vw, 3rem); letter-spacing: 0.05em; }

.sparkle { width: 18px; height: 18px; animation-duration: 6s; /* Longer duration for smoother motion on mobile */ }

.sparkle:nth-child(1) { left: -80px; } .sparkle:nth-child(2) { left: -40px; } .sparkle:nth-child(4) { left: 40px; } .sparkle:nth-child(5) { left: 80px; }

/* Pause static sparkles until needed for better performance */ .sparkle { animation-play-state: paused; }

.message-show .sparkle { animation-play-state: running; } }

@keyframes simpleFloat { 0% { transform: translateY(0) scale(1) translateZ(0); opacity: 1; } 100% { transform: translateY(-100px) scale(0.5) translateZ(0); opacity: 0; } }

